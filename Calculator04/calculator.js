// nhánh này sẽ phân tích và viết lại logic từ đầu
